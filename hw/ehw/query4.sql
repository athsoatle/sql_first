SELECT DISTINCT Покупатель, Дата
  FROM MainTable.Продажи
  WHERE Дата >=DATEADD(WEEK,DATEDIFF(WEEK,0,CURRENT_TIMESTAMP)-1,0)
  AND Дата < DATEADD(WEEK,DATEDIFF(WEEK,0,CURRENT_TIMESTAMP)  ,0)
